{"ast":null,"code":"import axios from 'axios';\nconst URL = \"http://127.0.0.1:8000/\"; // async(2)\n\nexport function get_all_books() {\n  return new Promise(resolve => axios.get(`${URL}allbooks/`).then(res => resolve({\n    data: res.data\n  })));\n}\nexport function add_book(action) {\n  return new Promise(resolve => axios.post(`${URL}createbook/`, {\n    \"name\": action.bookname,\n    \"author\": action.author,\n    \"year_published\": action.year_published\n  }, {\n    headers: {\n      'Authorization': `Bearer ${action.token}`\n    }\n  }).then(res => resolve(res.data)));\n}\nexport function delete_book(action) {\n  console.log(action);\n  return new Promise(resolve => axios.delete(`${URL}single_book/${action.id}`, {\n    headers: {\n      'Authorization': `Bearer ${action.token}`\n    }\n  }).then(res => resolve({\n    data: res.data\n  })));\n}","map":{"version":3,"names":["axios","URL","get_all_books","Promise","resolve","get","then","res","data","add_book","action","post","bookname","author","year_published","headers","token","delete_book","console","log","delete","id"],"sources":["C:/Users/idand/Desktop/7731.4/react_django_library/front_redux/library_front/src/features/main_shop/main_shopAPI.js"],"sourcesContent":["import axios from 'axios'\r\n\r\n\r\n\r\nconst URL = \"http://127.0.0.1:8000/\"\r\n// async(2)\r\nexport function get_all_books() {\r\n    return new Promise((resolve) =>\r\n        axios.get(`${URL}allbooks/`).then((res) => resolve({ data: res.data }))\r\n    );\r\n}\r\n\r\nexport function add_book(action) {\r\n    return new Promise((resolve) =>\r\n        axios.post(`${URL}createbook/`,\r\n            {\r\n                \"name\": action.bookname,\r\n                \"author\": action.author,\r\n                \"year_published\": action.year_published\r\n            },\r\n            { headers: { 'Authorization': `Bearer ${action.token}` } },\r\n\r\n        ).then((res) => resolve(res.data))\r\n    );\r\n}\r\n\r\nexport function delete_book(action) {\r\n    console.log(action)\r\n    return new Promise((resolve) =>\r\n        axios.delete(`${URL}single_book/${action.id}`,\r\n            { headers: { 'Authorization': `Bearer ${action.token}` } }\r\n\r\n        ).then((res) => resolve({ data: res.data }))\r\n    );\r\n}"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAIA,MAAMC,GAAG,GAAG,wBAAZ,C,CACA;;AACA,OAAO,SAASC,aAAT,GAAyB;EAC5B,OAAO,IAAIC,OAAJ,CAAaC,OAAD,IACfJ,KAAK,CAACK,GAAN,CAAW,GAAEJ,GAAI,WAAjB,EAA6BK,IAA7B,CAAmCC,GAAD,IAASH,OAAO,CAAC;IAAEI,IAAI,EAAED,GAAG,CAACC;EAAZ,CAAD,CAAlD,CADG,CAAP;AAGH;AAED,OAAO,SAASC,QAAT,CAAkBC,MAAlB,EAA0B;EAC7B,OAAO,IAAIP,OAAJ,CAAaC,OAAD,IACfJ,KAAK,CAACW,IAAN,CAAY,GAAEV,GAAI,aAAlB,EACI;IACI,QAAQS,MAAM,CAACE,QADnB;IAEI,UAAUF,MAAM,CAACG,MAFrB;IAGI,kBAAkBH,MAAM,CAACI;EAH7B,CADJ,EAMI;IAAEC,OAAO,EAAE;MAAE,iBAAkB,UAASL,MAAM,CAACM,KAAM;IAA1C;EAAX,CANJ,EAQEV,IARF,CAQQC,GAAD,IAASH,OAAO,CAACG,GAAG,CAACC,IAAL,CARvB,CADG,CAAP;AAWH;AAED,OAAO,SAASS,WAAT,CAAqBP,MAArB,EAA6B;EAChCQ,OAAO,CAACC,GAAR,CAAYT,MAAZ;EACA,OAAO,IAAIP,OAAJ,CAAaC,OAAD,IACfJ,KAAK,CAACoB,MAAN,CAAc,GAAEnB,GAAI,eAAcS,MAAM,CAACW,EAAG,EAA5C,EACI;IAAEN,OAAO,EAAE;MAAE,iBAAkB,UAASL,MAAM,CAACM,KAAM;IAA1C;EAAX,CADJ,EAGEV,IAHF,CAGQC,GAAD,IAASH,OAAO,CAAC;IAAEI,IAAI,EAAED,GAAG,CAACC;EAAZ,CAAD,CAHvB,CADG,CAAP;AAMH"},"metadata":{},"sourceType":"module"}