{"ast":null,"code":"import axios from 'axios';\nconst URL = \"http://127.0.0.1:8000/\"; // async(2)\n\nexport function get_all_books() {\n  return new Promise(resolve => axios.get(`${URL}allbooks/`).then(res => resolve({\n    data: res.data\n  })));\n}\nexport function add_book(action) {\n  return new Promise(resolve => axios.post(`${URL}createbook/`, {\n    headers: {\n      'Authorization': `Bearer ${token}`\n    },\n    body: {\n      \"name\": action.bookname,\n      \"author\": action.author,\n      \"year_published\": action.year_published\n    }\n  }).then(res => resolve({\n    data: res.data\n  })));\n}","map":{"version":3,"names":["axios","URL","get_all_books","Promise","resolve","get","then","res","data","add_book","action","post","headers","token","body","bookname","author","year_published"],"sources":["C:/Users/idand/Desktop/7731.4/react_django_library/front_redux/library_front/src/features/main_shop/main_shopAPI.js"],"sourcesContent":["import axios from 'axios'\r\n\r\nconst URL = \"http://127.0.0.1:8000/\"\r\n// async(2)\r\nexport function get_all_books() {\r\n    return new Promise((resolve) =>\r\n        axios.get(`${URL}allbooks/`).then((res) => resolve({ data: res.data }))\r\n    );\r\n}\r\n\r\nexport function add_book(action) {\r\n    return new Promise((resolve) =>\r\n        axios.post(`${URL}createbook/`, \r\n        \r\n        {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            },body:{ \r\n            \"name\": action.bookname,\r\n            \"author\": action.author,\r\n            \"year_published\": action.year_published\r\n            }}\r\n            \r\n        ).then((res) => resolve({ data: res.data }))\r\n    );\r\n}\r\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,GAAG,GAAG,wBAAZ,C,CACA;;AACA,OAAO,SAASC,aAAT,GAAyB;EAC5B,OAAO,IAAIC,OAAJ,CAAaC,OAAD,IACfJ,KAAK,CAACK,GAAN,CAAW,GAAEJ,GAAI,WAAjB,EAA6BK,IAA7B,CAAmCC,GAAD,IAASH,OAAO,CAAC;IAAEI,IAAI,EAAED,GAAG,CAACC;EAAZ,CAAD,CAAlD,CADG,CAAP;AAGH;AAED,OAAO,SAASC,QAAT,CAAkBC,MAAlB,EAA0B;EAC7B,OAAO,IAAIP,OAAJ,CAAaC,OAAD,IACfJ,KAAK,CAACW,IAAN,CAAY,GAAEV,GAAI,aAAlB,EAEA;IACIW,OAAO,EAAE;MACL,iBAAkB,UAASC,KAAM;IAD5B,CADb;IAGMC,IAAI,EAAC;MACP,QAAQJ,MAAM,CAACK,QADR;MAEP,UAAUL,MAAM,CAACM,MAFV;MAGP,kBAAkBN,MAAM,CAACO;IAHlB;EAHX,CAFA,EAWEX,IAXF,CAWQC,GAAD,IAASH,OAAO,CAAC;IAAEI,IAAI,EAAED,GAAG,CAACC;EAAZ,CAAD,CAXvB,CADG,CAAP;AAcH"},"metadata":{},"sourceType":"module"}