{"ast":null,"code":"import axios from 'axios';\nconst URL = \"http://127.0.0.1:8000/\"; // async(2)\n\nexport function get_all_books() {\n  return new Promise(resolve => axios.get(`${URL}allbooks/`).then(res => resolve({\n    data: res.data\n  })));\n}\nexport function add_book(action) {\n  return new Promise(resolve => axios.post(`${URL}createbook/`, {\n    \"name\": action.bookname,\n    \"author\": action.author,\n    \"year_published\": action.year_published\n  }, {\n    headers: {\n      'Authorization': `Bearer ${action.token}`\n    }\n  }).then(res => resolve(res.data)));\n}\nexport function delete_book(action) {\n  async () => {\n    const response = await axios.delete(`${URL}single_book/${action.id}`);\n  };\n}","map":{"version":3,"names":["axios","URL","get_all_books","Promise","resolve","get","then","res","data","add_book","action","post","bookname","author","year_published","headers","token","delete_book","response","delete","id"],"sources":["C:/Users/idand/Desktop/7731.4/react_django_library/front_redux/library_front/src/features/main_shop/main_shopAPI.js"],"sourcesContent":["import axios from 'axios'\r\n\r\n\r\n\r\nconst URL = \"http://127.0.0.1:8000/\"\r\n// async(2)\r\nexport function get_all_books() {\r\n    return new Promise((resolve) =>\r\n        axios.get(`${URL}allbooks/`).then((res) => resolve({ data: res.data }))\r\n    );\r\n}\r\n\r\nexport function add_book(action) {\r\n    return new Promise((resolve) =>\r\n        axios.post(`${URL}createbook/`, \r\n            { \r\n            \"name\": action.bookname,\r\n            \"author\": action.author,\r\n            \"year_published\": action.year_published\r\n            },\r\n            {headers: {'Authorization': `Bearer ${action.token}`}},\r\n            \r\n        ).then((res) => resolve(res.data))\r\n    );\r\n}\r\n\r\nexport function delete_book(action) {\r\n    async() => {\r\n        const response = await axios.delete(`${URL}single_book/${action.id}`)\r\n    }\r\n}\r\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAIA,MAAMC,GAAG,GAAG,wBAAZ,C,CACA;;AACA,OAAO,SAASC,aAAT,GAAyB;EAC5B,OAAO,IAAIC,OAAJ,CAAaC,OAAD,IACfJ,KAAK,CAACK,GAAN,CAAW,GAAEJ,GAAI,WAAjB,EAA6BK,IAA7B,CAAmCC,GAAD,IAASH,OAAO,CAAC;IAAEI,IAAI,EAAED,GAAG,CAACC;EAAZ,CAAD,CAAlD,CADG,CAAP;AAGH;AAED,OAAO,SAASC,QAAT,CAAkBC,MAAlB,EAA0B;EAC7B,OAAO,IAAIP,OAAJ,CAAaC,OAAD,IACfJ,KAAK,CAACW,IAAN,CAAY,GAAEV,GAAI,aAAlB,EACI;IACA,QAAQS,MAAM,CAACE,QADf;IAEA,UAAUF,MAAM,CAACG,MAFjB;IAGA,kBAAkBH,MAAM,CAACI;EAHzB,CADJ,EAMI;IAACC,OAAO,EAAE;MAAC,iBAAkB,UAASL,MAAM,CAACM,KAAM;IAAzC;EAAV,CANJ,EAQEV,IARF,CAQQC,GAAD,IAASH,OAAO,CAACG,GAAG,CAACC,IAAL,CARvB,CADG,CAAP;AAWH;AAED,OAAO,SAASS,WAAT,CAAqBP,MAArB,EAA6B;EAChC,YAAW;IACP,MAAMQ,QAAQ,GAAG,MAAMlB,KAAK,CAACmB,MAAN,CAAc,GAAElB,GAAI,eAAcS,MAAM,CAACU,EAAG,EAA5C,CAAvB;EACH,CAFD;AAGH"},"metadata":{},"sourceType":"module"}